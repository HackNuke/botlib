#!/usr/bin/python3 -u
# BOTLIB - the bot library !
#
#

__version__ = 1

## imports

import os, sys ; sys.path.insert(0, os.getcwd())

from bot.obj import Object
from bot.itr import find_cls, find_names, find_types, walk
from bot.krn import k
from bot.hdl import direct
from bot.shl import execute

## main

def main():
    mods = walk("bot")
    names = Object()
    cls = Object()
    for mod in mods.values():
        nms = find_names(mod)
        if nms:
            names.update(nms)
    print("cmds = %s" % names.json())
    for mod in mods.values():
        c = find_cls(mod)
        if c:
            cls.update(c)
    print("classes = %s" % cls.json())
 
execute(main)
