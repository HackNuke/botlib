#!/usr/bin/python3 -u
# BOTLIB - the bot library !
#
#

import os, sys ; sys.path.insert(0, os.getcwd())

from bot.csl import execute
from bot.obj import Object, update, tojson
from bot.isp import direct, find_cls, find_names, find_types, walk
from bot.krn import k

def main():
    mods = walk("bot")
    names = Object()
    cls = Object()
    for mod in mods.values():
        nms = find_names(mod)
        if nms:
            update(names, nms)
    print("# BOTLIB - the bot library !")
    print("#")
    print("#")
    print("")
    print("#:")
    print("names = %s" % tojson(names))
    for mod in mods.values():
        c = find_cls(mod)
        if c:
            update(cls, c)
    print("")
    print("#:")
    print("classes = %s" % tojson(cls))
 
execute(main)
