#!/usr/bin/python3 -u
# BOTLIB - the bot library !
#
#

__version__ = 86

## path

import os, sys ; sys.path.insert(0, os.getcwd())

## imports

from bot.spc import Console, Kernel
from bot.spc import daemon, execute, os, parse_cli, root

from bot.irc import IRC

## defines

opts = [
    ('-l', '--loglevel', 'store', str, "debug", 'set loglevel.', 'level'),
    ('-o', '--options', 'store', str, "", "options to use", 'options'),
    ('-w', '--workdir', 'store', str, os.path.expanduser("~/.bot"), "directory to work on", 'workdir'),
]

## main

def main():
    cfg = parse_cli("bot", opts, version=__version__)
    k = Kernel(cfg)
    k.start()
    print(k)
    c = Console()
    c.start()
    k.wait()

## runtime

execute(main)
