#!/usr/bin/python3 -u
# BOTLIB - the bot library !
#
#

__version__ = 86

from bot.csl import Console
from bot.krn import k
from bot.shl import daemon, execute, parse_cli

import os

opts = [
    ('-l', '--loglevel', 'store', str, "debug", 'set loglevel.', 'level'),
    ('-o', '--options', 'store', str, "", "options to use", 'options'),
    ('-w', '--workdir', 'store', str, os.path.expanduser("~/.bot"), "directory to work on", 'workdir'),
]

def main():
    cfg = parse_cli("bot", opts, version=__version__)
    k.start(cfg)
    c = Console()
    c.start()
    k.wait()

execute(main)
