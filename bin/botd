#!/usr/bin/python3 -u
# BOTLIB - Framework to program bots.
#
# bin/botd (bot daemon)

import bot
import lo
import os
import sys

from bot.krn import Kernel
from lo.shl import daemon, execute, level

def main():
    lo.workdir ="/var/lib/botd/"
    level("debug", "/var/log/botd/botd.log")
    daemon()
    k = Kernel()
    k.cfg.last()
    k.walk(k.cfg.modules)
    k.start()
    k.wait()
    
execute(main)
os._exit(0)
