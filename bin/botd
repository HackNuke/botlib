#!/usr/bin/python3 -u
# BOTLIB - Framework to program bots.
#
# bin/botd (bot daemon)

__version__ = 83

import lo
import logging
import os
import time

from lo.krn import Kernel
from lo.shl import execute, level

def main():
    lo.cfg.workdir = lo.workdir = "/var/lib/botd"
    lo.cfg.root = True
    level("debug", "/var/log/botd/bot.log")
    logging.warning("%s %s started on %s" % ("BOTD", __version__, time.ctime(time.time())))
    k = Kernel()
    logging.debug(k.cfg)
    k.start()
    k.wait()
    
execute(main)
os._exit(0)
