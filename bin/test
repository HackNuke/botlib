#!/usr/bin/env python3
# This file is placed in the Public Domain.


import doctest
import sys
import unittest


sys.path.insert(0, "lib")


from ocf import Cfg
from opr import Parsed


p = Parsed(" ".join(sys.argv[1:]))


Cfg.verbose = "v" in p.opts
Cfg.wd = ".test"


flags = doctest.REPORT_NDIFF | doctest.FAIL_FAST | doctest.ELLIPSIS


def main():
    pat = "test_%s*" % "*"
    suite = unittest.loader.TestLoader().discover("test", pattern=pat)
    unittest.TextTestRunner(verbosity=3).run(suite)


main()
